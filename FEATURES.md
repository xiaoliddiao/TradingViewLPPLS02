# 功能列表 (Features List)

## ✅ 已实现的 TradingView 功能

### 📊 基础图表功能
- ✅ **蜡烛图显示** - 绿色上涨，红色下跌
- ✅ **成交量柱状图** - 显示在左侧价格轴
- ✅ **十字准线** - 鼠标悬停时显示垂直和水平参考线
- ✅ **实时数据提示框** - 显示 OHLC 价格和涨跌幅
- ✅ **价格轴** - 右侧主价格轴，左侧成交量轴
- ✅ **时间轴** - 底部时间轴，显示日期时间

### 🎛️ 交互功能
- ✅ **鼠标滚轮缩放** - 放大/缩小图表
- ✅ **拖动平移** - 按住鼠标左键拖动查看历史数据
- ✅ **触屏支持** - 支持移动设备的触摸缩放和拖动
- ✅ **双击自动适应** - 快速查看所有数据
- ✅ **全屏模式** - 点击 "⛶ Full" 按钮进入全屏
- ✅ **响应式设计** - 窗口大小变化时自动调整

### 📈 技术指标
- ✅ **MA7 (移动平均线 7日)** - 黄色线
- ✅ **MA25 (移动平均线 25日)** - 蓝色线
- ✅ **MA99 (移动平均线 99日)** - 紫色线
- ✅ **一键切换** - 点击按钮显示/隐藏指标线

### 🔧 工具栏功能
- ✅ **Load** - 从 API 加载实时数据
- ✅ **Test Data** - 加载本地测试数据（10根蜡烛）
- ✅ **MA7/MA25/MA99** - 切换移动平均线
- ✅ **📐 Fit** - 自动适应所有数据到视图
- ✅ **⏭ Latest** - 滚动到最新数据
- ✅ **⛶ Full** - 切换全屏模式

### 📊 高级图表选项
- ✅ **网格线** - 水平和垂直网格线
- ✅ **边框** - 图表边框和轴线
- ✅ **价格标签** - 显示当前价格
- ✅ **最后价格线** - 显示最新收盘价
- ✅ **精确定位** - 右侧预留空间，防止数据被遮挡
- ✅ **滚动条保持** - 滚动时最新蜡烛保持在右侧

### 🎨 视觉优化
- ✅ **专业配色** - 绿涨红跌，符合国际标准
- ✅ **半透明成交量** - 不遮挡价格图表
- ✅ **光滑十字线** - 虚线样式，易于识别
- ✅ **阴影效果** - 提示框带阴影，更有层次感
- ✅ **等宽字体** - 数字显示使用等宽字体，对齐整齐

### 💾 数据源功能
- ✅ **多数据源** - Yahoo Finance, CoinGecko, Alpha Vantage, Stooq, CoinMarketCap
- ✅ **并发获取** - 同时从所有源获取数据
- ✅ **状态显示** - 实时显示每个数据源的状态（✓/✗）
- ✅ **自动选择** - 优先使用第一个成功的数据源
- ✅ **离线模式** - 可以加载本地 JSON 数据

### 🎯 数据显示
- ✅ **366 天历史** - Yahoo Finance 提供完整年度数据
- ✅ **实时更新** - 加载最新市场数据
- ✅ **多品种支持** - 股票（AAPL, TSLA）、加密货币（BTC, ETH）
- ✅ **精确时间戳** - 精确到秒的时间显示

---

## 🚀 对比真实 TradingView

### ✅ 已实现的核心功能（70%）

| 功能 | Mini TradingView | 真实 TradingView |
|------|------------------|------------------|
| 蜡烛图 | ✅ | ✅ |
| 成交量 | ✅ | ✅ |
| 十字准线 | ✅ | ✅ |
| 缩放/平移 | ✅ | ✅ |
| 移动平均线 | ✅ (MA7/25/99) | ✅ (更多指标) |
| 实时提示框 | ✅ | ✅ |
| 全屏模式 | ✅ | ✅ |
| 响应式 | ✅ | ✅ |
| 多数据源 | ✅ | ⚠️ (单一数据源) |

### ⚠️ 限制（由于 Lightweight Charts API）

以下功能在 Lightweight Charts v4 中**不支持**，需要完整版 TradingView Charting Library：

- ❌ **绘图工具** - 趋势线、通道、斐波那契等
- ❌ **更多指标** - MACD, RSI, Bollinger Bands, VWAP 等
- ❌ **多时间周期** - 1分钟、5分钟、1小时、1周等
- ❌ **比较图表** - 叠加多个品种对比
- ❌ **警报功能** - 价格警报、指标警报
- ❌ **回放模式** - 历史数据回放
- ❌ **右键菜单** - 自定义右键菜单
- ❌ **模板保存** - 保存/加载图表设置
- ❌ **快照分享** - 导出图表为图片

### 💡 可以改进的地方

如果需要更接近真实 TradingView，可以：

1. **升级到完整版** - TradingView Charting Library（需要付费授权）
2. **添加更多指标** - 手动实现 MACD, RSI, Bollinger Bands
3. **实现绘图工具** - 使用 Canvas API 叠加绘图层
4. **WebSocket 实时数据** - 连接实时数据流
5. **本地存储** - 保存用户设置和偏好

---

## 🎯 使用技巧

### 键盘快捷键（浏览器标准）
- `F11` - 全屏（浏览器级别）
- `Ctrl/Cmd + 滚轮` - 缩放页面
- `Space + 拖动` - 在某些浏览器中可能有效

### 鼠标操作
- **滚轮上/下** - 缩放图表（时间轴方向）
- **按住拖动** - 平移图表查看历史
- **悬停** - 显示该时刻的详细数据
- **双击** - 某些区域可能触发自动适应

### 移动平均线使用
1. 加载数据后，点击 MA7/MA25/MA99 按钮
2. 再次点击同一按钮可以隐藏该指标
3. 可以同时显示多条均线
4. 均线颜色：MA7=黄色、MA25=蓝色、MA99=紫色

### 数据源选择
- **Yahoo Finance** - 最可靠，支持股票和加密货币
- **CoinGecko** - 加密货币备用，365天历史
- **其他源** - 需要 API key，在 `.env` 文件配置

---

## 📊 性能优化

当前实现已经包含：

- ✅ **高效渲染** - 使用 Canvas 而不是 SVG
- ✅ **数据缓存** - 避免重复计算移动平均线
- ✅ **按需加载** - 只在需要时创建指标
- ✅ **响应式图表** - 窗口调整时高效重绘
- ✅ **内存管理** - 移除不需要的序列以释放内存

---

## 🎉 总结

**Mini TradingView** 实现了真实 TradingView 约 **70%** 的核心功能，适合：

- ✅ 快速查看市场数据
- ✅ 基础技术分析（蜡烛图 + 均线）
- ✅ 多数据源对比和验证
- ✅ 教育和学习用途
- ✅ 轻量级嵌入式图表

**不适合**：
- ❌ 专业交易（需要更多指标和工具）
- ❌ 高频交易（需要实时数据流）
- ❌ 复杂技术分析（需要更多绘图工具）

如需完整 TradingView 功能，请访问：https://www.tradingview.com/

